var url=API+"results_items/",url2=API+"games_items/";function sortCitiesRates(e,t){const n=e.data,l={};t.data.forEach(e=>{const t=e.relationships.game_id.data.id;l[t]||(l[t]=[]),l[t].push(e)});const i=Object.values(l);return i.forEach(e=>{e.sort((e,t)=>e.attributes.rate.localeCompare(t.attributes.rate))}),i.map(e=>{const t=n.find(t=>t.id===e[0].relationships.game_id.data.id).attributes.name,l={};e.forEach(e=>{const t=e.attributes.city;null!==e.attributes.rate&&(l[t]=e.attributes.rate)});const i={};return Object.keys(l).forEach(e=>{i[e]=Array.from(l[e])}),{gameName:t,cities:i,file_title:e[0].attributes.file_title,file_link:e[0].attributes.file_link,attention:e[0].attributes.attention,title:e[0].attributes.title}})}function appendResults(e){const t=document.getElementById("results_items");let n;t.setAttribute("style",""),t.innerHTML='<section class="has_eae_slider elementor-section elementor-top-section elementor-element elementor-element-1c68f0b elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="1c68f0b" data-element_type="section">\n    <div class="elementor-container elementor-column-gap-default">\n        <div class="has_eae_slider elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3cd7d50" data-id="3cd7d50" data-element_type="column">\n            <div class="elementor-widget-wrap elementor-element-populated">\n                <div class="elementor-element elementor-element-27600c0 elementor-widget elementor-widget-cz_title" data-id="27600c0" data-element_type="widget" data-widget_type="cz_title.default">\n                    <div class="elementor-widget-container">\n                        <div>\n                            <div class="cz_title clr cz_title_pos_inline tac">\n                                <div class="cz_title_content">\n                                    <div class="cz_wpe_content">\n                                        <p style="text-align: center;">\n                                            نتایج زنده مسابقات چهارمین المپیاد استعدادهای برتر ورزشی\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>';for(let l=0;l<e.length;l++){let i="",a="",c="";if(null!==e[l].file_title&&(a='<p><a href="'+e[l].file_link+'" download>'+e[l].file_title+"</a></p>\n",null!==e[l].attention&&(a+='                                        <p>\n                                            <span style="color: #ff0000;">\n                                                <strong>'+e[l].attention+"</strong>\n                                            </span>\n                                        </p>\n")),Object.entries(e[l].cities).length>0){n=Object.entries(e[l].cities);let t="";for(let e=0;e<n.length;e++)t+="<li>"+n[e][0]+" : "+n[e][1][0]+"</li>\n";c+='<div class="cz_acc_child_content clr">\n                                        <ul>\n'+t+"                                        </ul>\n                                    </div>"}i='<div class="cz_acc_child_content clr">\n<h4>'+e[l].title+"</h4>\n"+c+"\n"+a+"\n                                    </div>";let o='<section class="has_eae_slider elementor-section elementor-top-section elementor-element elementor-element-d322779 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d322779" data-element_type="section">\n    <div class="elementor-container elementor-column-gap-default">\n        <div class="has_eae_slider elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9c95992" data-id="9c95992" data-element_type="column">\n            <div class="elementor-widget-wrap elementor-element-populated">\n                <div class="elementor-element elementor-element-c289af1 elementor-widget elementor-widget-cz_accordion" data-id="c289af1" data-element_type="widget" data-widget_type="cz_accordion.default">\n                    <div class="elementor-widget-container">\n                        <div data-arrows=\'{"open":"fa czico-187-up-arrow-1","close":"fa czico-194-download"}\' class="cz_acc clr cz_acc_toggle">\n                            <div>\n                                <div class="elementor-repeater-item-a9cd979">\n                                    <span class="cz_acc_child">\n                                        <i class="cz-acc-i cz-acc-icon fas '+icons[e[l].gameName]+'"></i>\n                                        <div>\n'+e[l].gameName+"                                        </div>\n                                    </span>\n"+i+"                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n";t.innerHTML+=o}}fetch(url2).then(e=>e.json()).then(e=>{void 0!==e.data&&e.data.length>0&&fetch(url).then(e=>e.json()).then(t=>{void 0!==t.data&&t.data.length>0&&appendResults(sortCitiesRates(e,t))})});
